---
source: src/middleware/trace_extractor.rs
assertion_line: 544
expression: otel_spans
---
[
    Span {
        trace_id: [
            49,
            118,
            78,
            230,
            87,
            96,
            249,
            217,
            249,
            143,
            57,
            252,
            135,
            177,
            142,
            191,
        ],
        span_id: [
            182,
            33,
            25,
            241,
            144,
            108,
            143,
            211,
        ],
        trace_state: "",
        parent_span_id: [
            248,
            89,
            163,
            54,
            89,
            202,
            113,
            174,
        ],
        name: "my child span",
        kind: Internal,
        start_time_unix_nano: 1680711890479040000,
        end_time_unix_nano: 1680711890479206000,
        attributes: [
            KeyValue {
                key: "thread.name",
                value: Some(
                    AnyValue {
                        value: Some(
                            StringValue(
                                "middleware::trace_extractor::tests::check_span_event::case_7",
                            ),
                        ),
                    },
                ),
            },
            KeyValue {
                key: "code.namespace",
                value: Some(
                    AnyValue {
                        value: Some(
                            StringValue(
                                "axum_tracing_opentelemetry::middleware::trace_extractor::tests",
                            ),
                        ),
                    },
                ),
            },
            KeyValue {
                key: "busy_ns",
                value: Some(
                    AnyValue {
                        value: Some(
                            IntValue(
                                6222,
                            ),
                        ),
                    },
                ),
            },
            KeyValue {
                key: "idle_ns",
                value: Some(
                    AnyValue {
                        value: Some(
                            IntValue(
                                50646,
                            ),
                        ),
                    },
                ),
            },
            KeyValue {
                key: "code.filepath",
                value: Some(
                    AnyValue {
                        value: Some(
                            StringValue(
                                "src/middleware/trace_extractor.rs",
                            ),
                        ),
                    },
                ),
            },
            KeyValue {
                key: "thread.id",
                value: Some(
                    AnyValue {
                        value: Some(
                            IntValue(
                                2,
                            ),
                        ),
                    },
                ),
            },
            KeyValue {
                key: "code.lineno",
                value: Some(
                    AnyValue {
                        value: Some(
                            IntValue(
                                501,
                            ),
                        ),
                    },
                ),
            },
        ],
        dropped_attributes_count: 0,
        events: [],
        dropped_events_count: 0,
        links: [],
        dropped_links_count: 0,
        status: Some(
            Status {
                message: "",
                code: Unset,
            },
        ),
    },
    Span {
        trace_id: [
            49,
            118,
            78,
            230,
            87,
            96,
            249,
            217,
            249,
            143,
            57,
            252,
            135,
            177,
            142,
            191,
        ],
        span_id: [
            248,
            89,
            163,
            54,
            89,
            202,
            113,
            174,
        ],
        trace_state: "",
        parent_span_id: [],
        name: "GET /with_child_span",
        kind: Server,
        start_time_unix_nano: 1680711890478669000,
        end_time_unix_nano: 1680711890479658000,
        attributes: [
            KeyValue {
                key: "http.host",
                value: Some(
                    AnyValue {
                        value: Some(
                            StringValue(
                                "",
                            ),
                        ),
                    },
                ),
            },
            KeyValue {
                key: "http.target",
                value: Some(
                    AnyValue {
                        value: Some(
                            StringValue(
                                "/with_child_span",
                            ),
                        ),
                    },
                ),
            },
            KeyValue {
                key: "code.filepath",
                value: Some(
                    AnyValue {
                        value: Some(
                            StringValue(
                                "src/middleware/trace_extractor.rs",
                            ),
                        ),
                    },
                ),
            },
            KeyValue {
                key: "http.status_code",
                value: Some(
                    AnyValue {
                        value: Some(
                            StringValue(
                                "200",
                            ),
                        ),
                    },
                ),
            },
            KeyValue {
                key: "http.method",
                value: Some(
                    AnyValue {
                        value: Some(
                            StringValue(
                                "GET",
                            ),
                        ),
                    },
                ),
            },
            KeyValue {
                key: "http.scheme",
                value: Some(
                    AnyValue {
                        value: Some(
                            StringValue(
                                "HTTP",
                            ),
                        ),
                    },
                ),
            },
            KeyValue {
                key: "thread.name",
                value: Some(
                    AnyValue {
                        value: Some(
                            StringValue(
                                "middleware::trace_extractor::tests::check_span_event::case_7",
                            ),
                        ),
                    },
                ),
            },
            KeyValue {
                key: "code.lineno",
                value: Some(
                    AnyValue {
                        value: Some(
                            IntValue(
                                161,
                            ),
                        ),
                    },
                ),
            },
            KeyValue {
                key: "http.flavor",
                value: Some(
                    AnyValue {
                        value: Some(
                            StringValue(
                                "1.1",
                            ),
                        ),
                    },
                ),
            },
            KeyValue {
                key: "trace_id",
                value: Some(
                    AnyValue {
                        value: Some(
                            StringValue(
                                "dcac6ff55d2a898f7a73ea74dc0f8c67",
                            ),
                        ),
                    },
                ),
            },
            KeyValue {
                key: "thread.id",
                value: Some(
                    AnyValue {
                        value: Some(
                            IntValue(
                                2,
                            ),
                        ),
                    },
                ),
            },
            KeyValue {
                key: "idle_ns",
                value: Some(
                    AnyValue {
                        value: Some(
                            IntValue(
                                204871,
                            ),
                        ),
                    },
                ),
            },
            KeyValue {
                key: "busy_ns",
                value: Some(
                    AnyValue {
                        value: Some(
                            IntValue(
                                672733,
                            ),
                        ),
                    },
                ),
            },
            KeyValue {
                key: "http.client_ip",
                value: Some(
                    AnyValue {
                        value: Some(
                            StringValue(
                                "",
                            ),
                        ),
                    },
                ),
            },
            KeyValue {
                key: "http.route",
                value: Some(
                    AnyValue {
                        value: Some(
                            StringValue(
                                "/with_child_span",
                            ),
                        ),
                    },
                ),
            },
            KeyValue {
                key: "http.user_agent",
                value: Some(
                    AnyValue {
                        value: Some(
                            StringValue(
                                "",
                            ),
                        ),
                    },
                ),
            },
            KeyValue {
                key: "code.namespace",
                value: Some(
                    AnyValue {
                        value: Some(
                            StringValue(
                                "axum_tracing_opentelemetry::middleware::trace_extractor",
                            ),
                        ),
                    },
                ),
            },
        ],
        dropped_attributes_count: 0,
        events: [],
        dropped_events_count: 0,
        links: [
            Link {
                trace_id: [
                    220,
                    172,
                    111,
                    245,
                    93,
                    42,
                    137,
                    143,
                    122,
                    115,
                    234,
                    116,
                    220,
                    15,
                    140,
                    103,
                ],
                span_id: [
                    143,
                    79,
                    80,
                    52,
                    202,
                    207,
                    166,
                    168,
                ],
                trace_state: "",
                attributes: [],
                dropped_attributes_count: 0,
            },
        ],
        dropped_links_count: 0,
        status: Some(
            Status {
                message: "",
                code: Ok,
            },
        ),
    },
]
